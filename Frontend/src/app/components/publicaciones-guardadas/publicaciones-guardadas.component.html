<!-- Contenedor principal -->
<div class="publicaciones-guardadas-container">
  <!-- T칤tulo de la secci칩n -->
  <h2 class="titulo-seccion">Publicaciones guardadas</h2>
  
  <!-- Texto explicativo -->
  <div class="texto-explicativo">
    <p>Aqu칤 podr치s ver todas las publicaciones que hayas guardado para revisarlas m치s tarde</p>
  </div>

  <!-- Lista de publicaciones guardadas -->
  <div *ngFor="let pub of publicacionesGuardadas" class="publicacion" (click)="verDetalle(pub.id)">
    <h3>{{ pub.titulo }}</h3>
    <p>{{ pub.descripcion }}</p>
    <div *ngIf="pub.tipo_media === 'imagen' && pub.media_url">
      <img [src]="getMediaUrl(pub.media_url)" class="media" />
    </div>
    <div *ngIf="pub.tipo_media === 'video' && pub.media_url">
      <video class="media" controls (click)="$event.stopPropagation()">
        <source [src]="getMediaUrl(pub.media_url)" type="video/mp4" />
      </video>
    </div>
    <!-- 游댖 Botones de interacci칩n -->
    <div class="acciones" (click)="$event.stopPropagation()">
      <div class="grupo-izquierda">
        <button class="btn like" [class.liked]="pub.liked">
          <i class="{{ pub.liked ? 'fas' : 'far' }} fa-heart"></i>
          {{ pub.likesCount || 0 }}
        </button>
        <button class="btn comentar" (click)="toggleFormularioComentario(pub.id)">
          <i class="far fa-comment"></i>
        </button>
      </div>
      <div class="grupo-derecha">
        <button class="btn guardar" (click)="toggleGuardar(pub)" [class.guardada]="pub.guardada">
          <i class="{{ pub.guardada ? 'fas' : 'far' }} fa-bookmark"></i>
        </button>
      </div>
    </div>
    <!-- 游눫 Formulario para comentar -->
    <div *ngIf="publicacionComentandoId === pub.id" class="formulario-comentario" (click)="$event.stopPropagation()">
      <textarea [(ngModel)]="nuevoComentario" placeholder="Escribe tu comentario..."></textarea>
      <button (click)="enviarComentario(pub.id)">Enviar</button>
    </div>
  </div>

  <!-- Mensaje cuando no hay publicaciones guardadas -->
  <div *ngIf="!publicacionesGuardadas || publicacionesGuardadas.length === 0" class="mensaje-vacio">
    <p>A칰n no has guardado ninguna publicaci칩n. 춰Empieza a guardar contenido interesante!</p>
  </div>
</div>